=========================
CPSDesignerThemes INSTALL
=========================

:Author: Georges Racinet

:Revision: $Id$

.. sectnum::    :depth: 4
.. contents::   :depth: 4

Dependencies
============

CPSSkins >= 2.16.1

At least one of these XML processing libraries is required:

- lxml >= 2.1 (default)

  Details:
  There have been problems with some version of the lxml package in
  the past. Currently versions known to work are:

  * lxml 2.1.5 (package python-lxml in Ubuntu 9.04)
  * lxml 2.1.2 (MacOSX build by Plone buildout recipe)
  * lxml 2.1.1 (package python-lxml in Debian Lenny)

- cElementTree >= 1.0.6 or plain Elementree >= 1.3

  Subversion checkouts are available here:

  http://svn.effbot.org/public/elementtree-1.3/

  http://svn.effbot.org/public/tags/celementtree-1.0.6-20090110-preview

  Documentation: http://effbot.org/zone/elementtree-13-intro.htm

  To run on (c)ElementTree, you have to edit
  ``configure.zcml``. See ``doc/engines.txt`` for details.

  Note that the default lxml-based engine
  is currently the most efficient and robust available.

Run the unit tests (see below) to know if your version works, and
don't hesitate to report the results.


Test dependencies
=================

The tests currently try and load all possible engines. Therefore, you'll need to
have both (c)ElementTree and lxml to run them. This could be lifted in the
future. Even if you deactivate the testing of lxml engines, lxml will still be
required, because it's been used by the testing infrastructure itself (to check
the output produced by the tested engine).

CPSSkins Export dependencies
============================

Recommended: ``tidy``. If tidy is present, the output of the export
will be automatically formatted.

Installing
==========

Import the CPS Designer Themes default profile

Where are the themes ?
======================

The default setting is to load them from
Products/CPSDesignerThemes/doc/sample_themes

Check ``doc/themes_management.txt`` for configuration, and more.

Disabling
=========

In ZMI, go to the `Properties` tab of portal_skins and remove
the layer ``cps_designer_themes_compat`` from the skins `CPSSkins`
and `CPSSkins-macroless`.

The term ``compat`` in the name of the skin ``cps_designer_themes_compat``
refers to the compatibility of using slots in the ZPTs, because future
developments will not rely on skins.


BUGS
====

Entities
--------

On cElementTree, you'll get errors if there are HTML entities (such as &acute;)
in the dynamic content generated by CPS. For now, you'll have to apply the
provided patch (cElementTree.c.path) and recompile cElementTree to get rid of
them.

Tests and engines
-----------------

All engine tests are ran for all engines.

lxml is also needed to run the doctests, to check output, but this has
nothing to do with the lxml-based theme engine.


.. Local Variables:
.. mode: rst
.. End:
.. vim: set filetype=rst:
